function setCookie(e,t,o){var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var s="expires="+r.toUTCString();document.cookie=e+"="+t+"; "+s}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var s=o[r];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}function commaSeparateNumber(e){for(var t=e;/(\d+)(\d{3})/.test(t.toString());)t=t.toString().replace(/(\d+)(\d{3})/,"$1,$2");return t}!function(){var e="http://localhost/wordcounter/frontend/web/",t=document.getElementById("goal_embed_button");t.style.display="inline-block";var o=document.createElement("A");o.setAttribute("href",e);var r=document.createElement("DIV"),s=document.createElement("DIV"),l=document.createElement("DIV"),a=document.createElement("DIV");t.appendChild(o),r.appendChild(s),l.appendChild(r),l.appendChild(a),o.appendChild(l),o.style.cssText="text-decoration: none; display: inline-block",l.style.cssText="position: relative;  border-radius: 40px; border: 2px solid #448bc8; background-color: #fff; overflow: hidden; box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1)",r.style.cssText="background-color: #559cd9; overflow: hidden; position: absolute;float: left; width: 0; height: 100%; font-size: 12px; color: #ffffff; text-align: center; background-color: #428bca;box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15); transition: width 0.6s ease;",a.style.cssText="width: 100%; white-space: nowrap; color: #448bc8; text-align: center;",s.style.whiteSpace="nowrap";var n=document.getElementById("embed_goal_js").getAttribute("data-token"),c="token="+n,i=new XMLHttpRequest;i.open("GET",e+"site/embed-goal-view?"+c,!0),i.send(),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var t=i.responseText,n=JSON.parse(t);if("true"==n.success){var c,d,p,b=n.goal_size;"small"==b?(c=150,d=20,p=12):"middle"==b?(c=220,d=30,p=19):"large"==b&&(c=350,d=42,p=27),setCookie("goal_button_width",c,365),setCookie("goal_button_height",d,365);var u=n.written_count,g=n.goal_count,x=100*u/g;100>=x?r.style.width=x+"%":r.style.width="100%",a.innerText=commaSeparateNumber(u)+" / "+commaSeparateNumber(g)+" "+n.goal_type,s.innerText=commaSeparateNumber(u)+" / "+commaSeparateNumber(g)+" "+n.goal_type,o.style.width=c+"px",s.style.cssText+="width: "+c+"px; line-height: "+d+"px; font-size: "+p+"px",l.style.cssText+="width: "+c+"px; height: "+d+"px",a.style.cssText+="line-height: "+d+"px; font-size: "+p+"px";var h=n.goal_color;switch(h){case"blue":r.style.backgroundColor="#559cd9",l.style.borderColor="#448bc8",a.style.color="#448bc8";break;case"red":r.style.backgroundColor="#ff6666",l.style.borderColor="#ff0000",a.style.color="#ff0000";break;case"green":r.style.backgroundColor="#5cc55a",l.style.borderColor="#4BB449",a.style.color="#4BB449";break;case"yellow":r.style.backgroundColor="#F8E37F",l.style.borderColor="#e7d26e",a.style.color="#e7d26e";break;case"pink":r.style.backgroundColor="#FFC0CB",l.style.borderColor="#eeb0ba",a.style.color="#eeb0ba";break;case"cyan":r.style.backgroundColor="#55dddd",l.style.borderColor="#44cccc",a.style.color="#44cccc";break;case"brown":r.style.backgroundColor="#c74c4c",l.style.borderColor="#A52A2A",a.style.color="#A52A2A";break;case"purple":r.style.backgroundColor="#c000c0",l.style.borderColor="#a000a0",a.style.color="#a000a0";break;case"orange":r.style.backgroundColor="#ffb611",l.style.borderColor="#FFA500",a.style.color="#FFA500"}}else if("removed"==n.success){var y=220,f=30;""!=getCookie("goal_button_width")&&(y=getCookie("goal_button_width")),""!=getCookie("goal_button_height")&&(f=getCookie("goal_button_height")),r.style.cssText+="background-color: #559cd9; width: 100%",l.style.cssText+="border-color: #448bc8; width: "+y+"px; height: "+f+"px",s.style.width=y+"px",a.innerText="",s.innerText="";var m=document.createElement("IMG");m.setAttribute("src",e+"images/logo.png");var C=document.createElement("SPAN");C.style.color="#ecf0f1";var k=document.createTextNode("Word Counter");C.appendChild(k);var w=document.createElement("SPAN"),T=document.createTextNode("This goal has removed");w.appendChild(T),s.appendChild(m),s.appendChild(C),s.appendChild(w),150==y?(m.style.marginTop="1px",m.setAttribute("height","13"),m.style.cssText="position: absolute; left: 47px; top: -2px",C.style.cssText="font-size: 7px; position: absolute; left: 60px; top: 1px;",w.style.cssText="font-size: 9px; line-height: 26px"):220==y?(m.setAttribute("height","20"),m.style.cssText="position: absolute; left: 70px; top: -2px",C.style.cssText="font-size: 10px; position: absolute; left: 90px; top: 3px;",w.style.cssText="font-size: 13px; line-height: 42px"):350==y&&(m.setAttribute("height","25"),m.style.cssText="position: absolute; left: 121px; top: -2px",C.style.cssText="font-size: 13px; position: absolute; left: 147px; top: 3px;",w.style.cssText="font-size: 18px; line-height: 58px")}}}}();